#+TITLE: todo

* Features
** Keybinds
| Mode         | Keybind    | Action                                                                               |
|--------------+------------+--------------------------------------------------------------------------------------|
| Normal       | =csd=      | Change surrounding delimiter (see id/ad)                                             |
|              | =cse=      | Change environment                                                                   |
|              | =csc=      | Change command (should be acessable from any brace e.g. ==\frac{}{:}==)              |
|              | =tsd=      | Toggle surrounding delimiter, e.g. =(f:oo)= <===> =\left(f:oo\right)=                |
|              | =tse=      | For surrounding environment, equation <==> equation*, or align <==> align*           |
|              | =tsm=      | For surrounding math, =\(\)= <==> =\[\]=                                             |
|              | =dse=      | Delete surrounding environment                                                       |
|              | =dsc=      | Delete surrounding command, =\tilde{a}= => =a=                                       |
| Text objects | =ie=, =ae= | Select inside/around *environment*                                                   |
|              | =ic=, =ac= | Select inside/around *command* (macro)                                               |
|              | =im=, =am= | Select inside/around *math*                                                          |
|              | =id=, =ad= | Select inside/around delimiter (math parentheses), e.g. =()=, =[]=, =\left[\right]=. |
| Insert       | ?          | Brace movement                                                                       |
** Vimtex stuff to steal:
*** Text Objects
For environments, commands/macros, inline & display math
**** DONE Steal [[https://github.com/hpdeifel/evil-latex-textobjects][evil-latex-textobjects]]
**** TODO Merge \) \] math text objects with $ math text objects
So we can have a unified math

*** General delimiter text object, with integration to evil-surround/evil-embrace
*** =csd/cse/tsd/tse= commands from vimtex
**** Environment changing
- [-] Vimtex way - minibuffer
  - [-] Just through a prompt. That would be through the minibuffer in Emacs.
  - [ ] Mark the environment being changed while user is in minibuffer
- [ ] Using [[https://github.com/hlissner/evil-multiedit][evil-multiedit]]
  Test this, and if its nice than add it as an option. We don't want
  evil-multiedit as a dependency though.
*** Environment & section folding (see evil-vimish-fold, outline-minor-mode)
** Our own
*** DONE cdlatex-tab-like movement (implemented already)
*** evil-surround like bindings which support toggling inline-outline math
Also support changing =\(= =\[= to =begin{align}= and so on. We can use
~texmathp-environments~ for selection.
*** For the enviornemnt and command text objects, add aliases in the prompt
- e.g. after =cse= you should be able to type =e<RET>= to get =equation=
  and =E<RET>= for =equation*=
- the aliases should be listed in some sort of menu, like the command
  options after you do =<SPC> f= in doom.
- there sould be a good way for the user to define their own aliase in
  their config with a function, e.g. =evil-tex-define-env-alias=
- This should also work exactly the same for commands
*** Create accent insersion mechanism in normal mode that plays nice with cdlatex
- Meaning that it shares the same aliases. Overlaps a lot with the command
  textobj, might be agood idea to just have the alias be the same thing exactly
  as in insert mode, but with the a prefix for accents, since the =c= alias for
  =mathcal= might be more usufull somewhere else. or maybe this is exactly what
  it sould be, who knows.

* Proposed
- change inside/around sub/superscript =ci^ ci_= which would jump to the closest
  sub/superscript
  - Would not work with surround-stuff, only =c/d= commands. Just thought it
    might be useful (Say you quickly want to change a sigma index...)
- Support math environments (=begin{align}=...) with our math text objects
  - Use =tsm= to toggle between =begin{align}= and =begin{equation}= (It already
    toggles between =\(\)= and =\[\]=)

    I don't use =begin{equation}= at all, only =\[\]=. In amsmath, =\[\]= are
    defined just to yield a =begin{equation*}...=. If we support toggling
    only =equation= and =align=, getting from =\[\]= to =align= wouldn't be nice.

- not sure if we should have explanations for the surround stuff, the toggle
  stuff is non trivial but it would probably be ehough to just mention that the
  e,c,m,d text objects are compatible with evil-surround. We probably only need
  to give an example.

- [X] Add README tip for =b/B= text objects

* Rejected

* Things to add to Doom in another repo later
** auto compilation mappings
** =TeX-fold= flag
would define bindings and advices for =TeX-fold=
** =cdlatex= flag
=cdlatex= has 4 functionalities:
- Snippets and environment templates: =fr<TAB>= => =\frac{}{}= These are made
obsolete by =yasnippet= and should be disabled.
- Tab key is configured for a general useful movement inside snippets
- Fast insertion of specific macros: =`a= => =\alpha=
- Fast accent insertion: =a'~= => =\tilde{a}=

Our cdlatex config should just disable the snippets and the tab key.
* Notes
** Environments list with proposed key aliases
| Category        | env        | key alias |
|-----------------+------------+-----------|
| built in        | equation   | e         |
|                 | equation*  | E         |
|                 | figure     | f         |
|                 | itemize    |           |
|                 | enumerate  |           |
| amsmath         | align      | a         |
|                 | align*     | A         |
|                 | alignat    |           |
|                 | alignat*   |           |
|                 | eqnarray   |           |
|                 | flalign    |           |
|                 | flalign*   |           |
|                 | gather     |           |
|                 | gather*    |           |
|                 | multline   |           |
|                 | multline*  |           |
| common theorems | axiom      |           |
|                 | corollary  |           |
|                 | definition |           |
|                 | examples   |           |
|                 | exercise   |           |
|                 | lemma      |           |
|                 | proof      |           |
|                 | question   |           |
|                 | remark     |           |
|                 | theorem    |           |
