#+TITLE: Plans

* Features
<<<<<<< HEAD
*** Text Objects
=======
** Text Objects
>>>>>>> Complete restructure for todo.org
For environments, commands/macros, inline & display math
*** DONE Steal [[https://github.com/hpdeifel/evil-latex-textobjects][evil-latex-textobjects]]
*** TODO Merge \) \] math text objects with $ math text objects
So we can have a unified math
*** General delimiter text object, with integration to evil-surround/evil-embrace
<<<<<<< HEAD
*** Environment changing
This is the =csd/cse/tsd/tse= commands from vimtex
**** DONE Semtex way - minibuffer
Just through a prompt. That would be through the minibuffer in Emacs.
**** TODO Using an alias table
  After doing =cse= you would will be able to enter one letter aliases to
  immediately change the enviornment, e.g. =csea= for changing to =align=, or
  =cseE= for changing to =equation*=.
  - One mapping, e.g. =csez=, will be reserved for *entering a prompt* so you can
    fully type out the thing.
  - This is a very vimish way: i.e =csea= would be mapped to ~align~ environment
  - Aliases would be *customizable*
  - Have a *Menu for an overview* of the aliases
** Folding
- Environments
- Sections, subsections...
- Have an org-like cycle functionality

** DONE CDLaTeX-tab-like movement (implemented already)
** evil-surround like bindings which support toggling inline-outline math
Also support changing =\)= =\]= to =begin{align}= and so on. We can use
~texmathp-environments~ for selection.
=======
** Environment changing: ==csd/cse/tsd/tse= commands
*** TODO Vimtex way - minibuffer
  - [-] Just through a prompt. That would be through the minibuffer in Emacs.
  - [ ] Mark the environment being changed while user is in minibuffer
*** TODO Using [[https://github.com/hlissner/evil-multiedit][evil-multiedit]]
  Test this, and if its nice than add it as an option. We don't want
  evil-multiedit as a dependency though.
*** TODO Using an alias table
  - e.g. after =cse= you should be able to type =e= to get =equation=
    and =E= for =equation*=
    This is a very vimish way: i.e =csea= would be mapped to ~align~ environment
  - Aliases would be *customizable*
  - One alias (=z=?) would lead you to a prompt to type a full env name.
  - *Menu for an overview* of the aliases
** Folding
see evil-vimish-fold, outline-minor-mode
- [ ] Environments
- [ ] Section, subsections, paragraphs...
** DONE cdlatex-tab-like movement (implemented already)
** evil-surround like bindings which support toggling inline-outline math
Also support changing =\)= =\]= to =begin{align}= and so on. We can use
~texmathp-environments~ for selection.
** Create accent insertion mechanism in normal mode that plays nice with CDLaTeX
- Meaning that it shares the same aliases. Overlaps a lot with the command
  textobj, might be a good idea to just have the alias be the same thing exactly
  as in insert mode, but with the a prefix for accents, since the =c= alias for
  =mathcal= might be more usufull somewhere else. or maybe this is exactly what
  it should be, who knows.
>>>>>>> Complete restructure for todo.org

* Proposed
- change inside/around sub/superscript =ci^ ci_= which would jump to the closest
  sub/superscript
  - Would not work with surround-stuff, only =c/d= commands. Just thought it
    might be useful (Say you quickly want to change a sigma index...)
- Support *math environments* (=begin{align}=...) with our *math text object*
  - Use =tsm= to toggle between =begin{align}= and =begin{equation}= (It already
    toggles between =\(\)= and =\[\]=)

    I don't use =begin{equation}= at all, only =\[\]=. In amsmath, =\[\]= are
    defined just to yield a =begin{equation*}...=. If we support toggling
    only =equation= and =align=, getting from =\[\]= to =align= wouldn't be nice.

<<<<<<< HEAD
- not sure if we should have explanations for the surround stuff, the toggle
  stuff is non trivial but it would probably be ehough to just mention that the
  e,c,m,d text objects are compatible with evil-surround. We probably only need
  to give an example.

* Far Future
** Mark the environment being changed while user changing it
This is exactly what [[https://github.com/edkolev/evil-goggles][evil-goggles]] does. We can either:
- Just add a similar functionality to our plugin
- Add an optional integration to evil-goggles in this repo
- Add an integration with goggles in the goggles plugin (this sounds odd but
  goggles has built-in integration with evil-surround and other plugins)
=======
>>>>>>> Complete restructure for todo.org
* Rejected
** Using [[https://github.com/hlissner/evil-multiedit][evil-multiedit]] to change environments
Would be slow compared to aliases.

* Appendix
** Keybinds
| Mode         | Keybind    | Action                                                                               |
|--------------+------------+--------------------------------------------------------------------------------------|
| Normal       | =csd=      | Change surrounding delimiter (see id/ad)                                             |
|              | =cse=      | Change environment                                                                   |
|              | =csc=      | Change command (should be acessable from any brace e.g. ==\frac{}{:}==)              |
|              | =tsd=      | Toggle surrounding delimiter, e.g. =(f:oo)= <===> =\left(f:oo\right)=                |
|              | =tse=      | For surrounding environment, equation <==> equation*, or align <==> align*           |
|              | =tsm=      | For surrounding math, =\(\)= <==> =\[\]=                                             |
|              | =dse=      | Delete surrounding environment                                                       |
|              | =dsc=      | Delete surrounding command, =\tilde{a}= => =a=                                       |
| Text objects | =ie=, =ae= | Select inside/around *environment*                                                   |
|              | =ic=, =ac= | Select inside/around *command* (macro)                                               |
|              | =im=, =am= | Select inside/around *math*                                                          |
|              | =id=, =ad= | Select inside/around delimiter (math parentheses), e.g. =()=, =[]=, =\left[\right]=. |
| Insert       | ?          | Brace movement                                                                       |
** Environments list with proposed key aliases
| Category        | env        | key alias |
|-----------------+------------+-----------|
| built in        | equation   | e         |
|                 | equation*  | E         |
|                 | figure     | f         |
|                 | itemize    |           |
|                 | enumerate  |           |
| amsmath         | align      | a         |
|                 | align*     | A         |
|                 | alignat    |           |
|                 | alignat*   |           |
|                 | eqnarray   |           |
|                 | flalign    |           |
|                 | flalign*   |           |
|                 | gather     |           |
|                 | gather*    |           |
|                 | multline   |           |
|                 | multline*  |           |
| common theorems | axiom      |           |
|                 | corollary  |           |
|                 | definition |           |
|                 | examples   |           |
|                 | exercise   |           |
|                 | lemma      |           |
|                 | proof      |           |
|                 | question   |           |
|                 | remark     |           |
|                 | theorem    |           |
** CDLaTeX accent & key list
"is style" means that the braces come before the macro, e.g {\displaystyle ...}
| key | macro             | is style |
|-----+-------------------+----------|
| .   | dot               |          |
| :   | ddot              |          |
| ~   | tilde             |          |
| N   | widetilde         |          |
| ^   | hat               |          |
| H   | widehat           |          |
| -   | bar               |          |
| T   | overline          |          |
| _   | underline         |          |
| {   | overbrace         |          |
| }   | underbrace        |          |
| >   | vec               |          |
| /   | grave             |          |
| \   | acute             |          |
| v   | check             |          |
| u   | breve             |          |
| m   | mbox              |          |
| c   | mathcal           |          |
| r   | mathrm/textrm     |          |
| i   | mathit/textit     |          |
| l   | NONE!!/textsl     |          |
| b   | mathbf/textbf     |          |
| e   | mathem/emph"      |          |
| y   | mathtt/texttt     |          |
| f   | mathsf/textsf     |          |
| 0   | textstyle         |          |
| 1   | displaystyle      | yes      |
| 2   | scriptstyle       | yes      |
| 3   | scriptscriptstyle | yes      |
** Things to add to Doom in another repo later
*** auto compilation mappings
*** =TeX-fold= flag
would define bindings and advices for =TeX-fold=
*** =cdlatex= flag
=cdlatex= has 4 functionalities:
- Snippets and environment templates: =fr<TAB>= => =\frac{}{}= These are made
obsolete by =yasnippet= and should be disabled.
- Tab key is configured for a general useful movement inside snippets
- Fast insertion of specific macros: =`a= => =\alpha=
- Fast accent insertion: =a'~= => =\tilde{a}=

Our cdlatex config should just disable the snippets and the tab key.
