#+TITLE:   evil-tex
#+DATE:    February 1, 2020
#+STARTUP: inlineimages nofold

LaTeX text objects for =evil-mode= that work well with =evil-surround=.
Successor of  [[https://github.com/hpdeifel/evil-latex-textobjects][evil-latex-textobjects]]
* Table of Contents :TOC_3:noexport:
- [[#incomplete-showcase][Incomplete Showcase]]
- [[#complete-info][Complete info]]
  - [[#text-objects][Text Objects]]
  - [[#surround-notes][Surround notes]]
- [[#appendix][Appendix]]
  - [[#environment-keymap][Environment keymap]]
  - [[#cdlatex-accent-key-list][cdlatex accent key list]]

* Incomplete Showcase
=|= marks point.

=\ti|lde{h}= -> cic /(change inner command)/ -> =\tilde{|}=

=\tilde{h|}= -> cscc bar SPC /(change surrounding command to =bar=)/ -> =\bar{h}=

=\(\sum_{i=1}^{n} i^2|\)= -> cim /(change inner math)/ -> =\(|\)=

=\(\sum_{i=1}^{n} i^2|\)= -> csmM /(change surrounding math to display)/ -> =\[\sum_{i=1}^{n} i^2|\]=

=\[a^2\]= -> csmeA /(change surrounding math to environment =align*=)/ ->
=\begin{align*} a^2 \end{align}=

TODO the right/left delimiters when implemented
* Complete info
** Text Objects
This package defines 6 text objects. All of them work with =evil-surround=.
| Key | Abbrevation      | Target                                                     |
|-----+------------------+------------------------------------------------------------|
| =c= | command          | TeX macros.                                                |
| =e= | environmnt       | =\begin{}...\end{}= blocks                                 |
| =m= | math             | Both inline =\( \)= and display =\[ \]=.                   |
| =$= | dollar           | Old TeX inline maths. [[https://tex.stackexchange.com/questions/510/are-and-preferable-to-dollar-signs-for-math-mode][Though you should probably use \(\)]]. |
| =d= | delimiters       | =\right* \left*= parentheses types                         |
| '   | [[*cdlatex accent & key list][CDLaTeX accents ]] | Only for surrounding, when cdlatex is active               |
** Surround notes
=evil-surround= should work with all of these text objects.

 Surrounding with =m= would give inline math. Use =M= for display.

 Surrounding with =c= would prompt you for the macro name.

 For =e=, there's [[*Environment keymap][a keymap]] for common environments. It should balso e displayed
 with a delay after pressing =cs*e=. Use =x= in the keymap to input an env
 manually.

 ' only works for surrounding, and uses [[*cdlatex accent key list][this keymap]]. For normal text-object
 operations, use the generic =c=.
* Appendix
** Environment keymap
Giving a prefix argument would prompt for options.
| Category        | env         | key alias |
|-----------------+-------------+-----------|
| Generic         | prompt user | x         |
|-----------------+-------------+-----------|
| Built In        | equation    | e         |
|                 | equation*   | E         |
|                 | figure      | f         |
|                 | itemize     | i         |
|                 | enumerate   | I         |
| AmsMath         | align       | a         |
|                 | align*      | A         |
|                 | alignat     | n         |
|                 | alignat*    | N         |
|                 | eqnarray    | r         |
|                 | flalign     | l         |
|                 | flalign*    | L         |
|                 | gather      | g         |
|                 | gather*     | G         |
|                 | multline    | m         |
|                 | multline*   | M         |
|                 | cases       | c         |
| Common Theorems | axiom       | ta        |
| prefix t        | corollary   | tc        |
|                 | definition  | td        |
|                 | examples    | te        |
|                 | exercise    | ts        |
|                 | lemma       | tl        |
|                 | proof       | tp        |
|                 | question    | tq        |
|                 | remark      | tr        |
|                 | theorem     | tt        |
** cdlatex accent key list
See [[https://github.com/cdominik/cdlatex/blob/a5cb624ef/cdlatex.el#L141][cdlatex]]. "style?" implies that the braces come before the macro, e.g
={\displaystyle ...}=
| key | macro             | style? |
|-----+-------------------+--------|
| .   | dot               |        |
| :   | ddot              |        |
| ~   | tilde             |        |
| N   | widetilde         |        |
| ^   | hat               |        |
| H   | widehat           |        |
| -   | bar               |        |
| T   | overline          |        |
| _   | underline         |        |
| {   | overbrace         |        |
| }   | underbrace        |        |
| >   | vec               |        |
| /   | grave             |        |
| \   | acute             |        |
| v   | check             |        |
| u   | breve             |        |
| m   | mbox              |        |
| c   | mathcal           |        |
| r   | mathrm/textrm     |        |
| i   | mathit/textit     |        |
| l   | NONE!!/textsl     |        |
| b   | mathbf/textbf     |        |
| e   | mathem/emph"      |        |
| y   | mathtt/texttt     |        |
| f   | mathsf/textsf     |        |
| 0   | textstyle         |        |
| 1   | displaystyle      | yes    |
| 2   | scriptstyle       | yes    |
| 3   | scriptscriptstyle | yes    |
